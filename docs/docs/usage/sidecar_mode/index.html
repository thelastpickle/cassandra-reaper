<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.115.2">
    <meta name="description" content="Easy Repair Management for Apache Cassandra">
<meta name="author" content="The Last Pickle">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Sidecar Mode :: Reaper: Easy Repair Management for Apache Cassandra</title>

    
    <link href="/css/nucleus.css?1749635473" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1749635473" rel="stylesheet">
    <link href="/css/hybrid.css?1749635473" rel="stylesheet">
    <link href="/css/featherlight.min.css?1749635473" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1749635473" rel="stylesheet">
    <link href="/css/auto-complete.css?1749635473" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1749635473" rel="stylesheet">
    <link href="/css/theme.css?1749635473" rel="stylesheet">
    <link href="/css/tabs.css?1749635473" rel="stylesheet">
    <link href="/css/hugo-theme.css?1749635473" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1749635473"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/docs/usage/sidecar_mode/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href='/' style="text-decoration: none;">
  <span style="color: white; font-size: 36px; font-weight: bold; font-family: Arial, sans-serif;">Reaper</span>
</a> 
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1749635473"></script>
<script type="text/javascript" src="/js/auto-complete.js?1749635473"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/cassandra-reaper.io\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1749635473"></script>

    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='/'><i class='fas fa-home'></i> Home</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/docs/" title="Documentation" class="dd-item
        parent
        
        
        ">
      <a href="/docs/">
          Documentation
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/docs/concepts/" title="Core Concepts" class="dd-item ">
        <a href="/docs/concepts/">
        Core Concepts
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/docs/download/" title="Downloads" class="dd-item
        
        
        
        ">
      <a href="/docs/download/">
          Downloads
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/docs/download/install/" title="Install and Run" class="dd-item ">
        <a href="/docs/download/install/">
        Install and Run
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs/download/building/" title="Building from Source" class="dd-item ">
        <a href="/docs/download/building/">
        Building from Source
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs/download/docker/" title="Docker" class="dd-item ">
        <a href="/docs/download/docker/">
        Docker
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/docs/backends/" title="Backends" class="dd-item
        
        
        
        ">
      <a href="/docs/backends/">
          Backends
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/docs/backends/memory/" title="Local Backend" class="dd-item ">
        <a href="/docs/backends/memory/">
        Local Backend
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs/backends/cassandra/" title="Cassandra Backend" class="dd-item ">
        <a href="/docs/backends/cassandra/">
        Cassandra Backend
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/docs/configuration/" title="Configuration Reference" class="dd-item
        
        
        
        ">
      <a href="/docs/configuration/">
          Configuration Reference
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/docs/configuration/reaper_specific/" title="Reaper Specific Settings" class="dd-item ">
        <a href="/docs/configuration/reaper_specific/">
        Reaper Specific Settings
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs/configuration/backend_specific/" title="Backend Specific Settings" class="dd-item ">
        <a href="/docs/configuration/backend_specific/">
        Backend Specific Settings
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs/configuration/docker_vars/" title="Docker Variables" class="dd-item ">
        <a href="/docs/configuration/docker_vars/">
        Docker Variables
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs/configuration/authentication/" title="Authentication" class="dd-item ">
        <a href="/docs/configuration/authentication/">
        Authentication
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/docs/metrics/" title="Metrics" class="dd-item
        
        
        
        ">
      <a href="/docs/metrics/">
          Metrics
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/docs/metrics/dashboards/" title="Dashboards" class="dd-item ">
        <a href="/docs/metrics/dashboards/">
        Dashboards
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs/metrics/graphite/" title="Graphite Reporter" class="dd-item ">
        <a href="/docs/metrics/graphite/">
        Graphite Reporter
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs/metrics/prometheus/" title="Prometheus" class="dd-item ">
        <a href="/docs/metrics/prometheus/">
        Prometheus
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/docs/usage/" title="Using Reaper" class="dd-item
        parent
        
        
        ">
      <a href="/docs/usage/">
          Using Reaper
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/docs/usage/add_cluster/" title="Adding a Cluster" class="dd-item ">
        <a href="/docs/usage/add_cluster/">
        Adding a Cluster
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs/usage/health/" title="Checking a Cluster&#39;s Health" class="dd-item ">
        <a href="/docs/usage/health/">
        Checking a Cluster&#39;s Health
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs/usage/single/" title="Running a Cluster Repair" class="dd-item ">
        <a href="/docs/usage/single/">
        Running a Cluster Repair
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs/usage/schedule/" title="Scheduling a Cluster Repair" class="dd-item ">
        <a href="/docs/usage/schedule/">
        Scheduling a Cluster Repair
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs/usage/multi_dc_non-distributed/" title="Multi DCs with One Reaper" class="dd-item ">
        <a href="/docs/usage/multi_dc_non-distributed/">
        Multi DCs with One Reaper
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs/usage/multi_dc_distributed/" title="Multi DCs with Multi Reapers" class="dd-item ">
        <a href="/docs/usage/multi_dc_distributed/">
        Multi DCs with Multi Reapers
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs/usage/sidecar_mode/" title="Sidecar Mode" class="dd-item active">
        <a href="/docs/usage/sidecar_mode/">
        Sidecar Mode
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs/api/" title="Rest API" class="dd-item ">
        <a href="/docs/api/">
        Rest API
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs/community/" title="Community" class="dd-item ">
        <a href="/docs/community/">
        Community
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs/development/" title="Development" class="dd-item ">
        <a href="/docs/development/">
        Development
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://github.com/thelastpickle/cassandra-reaper"><i class='fab fa-github'></i> GitHub</a>
              </li>
          
              <li>
                  <a class="padding" href="http://cassandra-reaper.io/docs/download/"><i class='fas fa-download'></i> Download</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/'>Reaper for Apache Cassandra</a> > <a href='/docs/'>Documentation</a> > <a href='/docs/usage/'>Using Reaper</a> > Sidecar Mode
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#guidance">Guidance</a></li>
        <li><a href="#caveats">Caveats</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Sidecar Mode
            </h1>
          

        


<p>Sidecar Mode is a way of deploying Reaper for Apache Cassandra with one reaper instance for each node in the cluster.
The name &ldquo;Sidecar&rdquo; comes from <a href="https://github.com/microsoftdocs/architecture-center/blob/master/docs/patterns/sidecar.md">the Sidecar Pattern</a> which describes a mechanism for co-locating an auxiliary service with its supported application.
See also  <a href="https://www.usenix.org/conference/hotcloud16/workshop-program/presentation/burns">Design Patterns for Container-based Distributed Systems</a>.
It is a pattern that is often used in Kubernetes, where the main application and the sidecar application are deployed as separate containers in the same pod.</p>
<p>In Sidecar Mode, each Cassandra node process is deployed alongside a Reaper process; Cassandra is the parent application and Reaper is the sidecar.</p>
<h2 id="guidance">Guidance</h2>
<ul>
<li><em>Deploy one Reaper cluster per Cassandra cluster</em>: Sidecar mode has been designed to allow you to easily deploy a separate, highly available Reaper service for each of your Cassandra clusters. You currently cannot use a Sidecar Mode Reaper service to manage multiple clusters.</li>
<li><em>Deploy Reaper in a sidecar container alongside Cassandra</em>: If you are using Kubernetes to deploy Cassandra and Reaper, put the Reaper process in the same Pod as Cassandra, in a sidecar container. See <a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-overview/">Pods that run multiple containers that need to work together</a></li>
<li><em>Use Spreaper and the REST API for Reaper administration (use the WebUI for reporting)</em>: If you have automated the deployment of Reaper in Sidecar Mode alongside a Cassandra Cluster (described above). Clusters in sidecar mode are self registered into Reaper, and you can turn on auto-scheduling to fully automate Reaper setup.</li>
<li><em>Use or write an operator</em>: For example, you could write a <a href="https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/">Kubernetes Custom Resource Definition</a> (e.g. a <code>Cassandra</code> resource) which contains configuration fields for the Cassandra database and fields with which you can define the Reaper repair settings.
Then write an accompanying <a href="https://coreos.com/operators/">Kubernetes Operator</a> which watches for changes to those resources and reconciles the declared (desired) configuration with the actual state of the Cassandra cluster and its Reaper service.</li>
</ul>
<h2 id="caveats">Caveats</h2>
<ul>
<li><em>One Reaper cluster per Cassandra Cluster</em>: Sidecar Mode is designed to be used in situations where you deploy a separate Reaper cluster for every Cassandra cluster.
If you prefer to deploy a single Reaper cluster to manage multiple Cassandra clusters then Sidecar Mode may not be suitable for you.</li>
<li><em>High Resource Usage</em>: In Sidecar Mode you will be deploying an additional Java process alongside each Cassandra process.
If your underlying infrastructure has limited resources, then Sidecar Mode may not be suitable for you.</li>
<li><em>WebUI Session Affinity</em>: In Sidecar Mode, you will be able to connect to the Web based administration pages of any Reaper process in the cluster.
But even once you have logged into the Web UI of one Reaper process, you will not be able to log into the Web UI on other Reaper processes.
The Web UI session information is not stored in the underlying Cassandra Backend database.
You will need to setup a loadbalancer / service that ensures that all Web UI traffic from a particular client is directed to a particular Reaper process.</li>
<li><em>Snapshot support</em>: In Sidecar Mode, snapshot are not supported as Reaper currently tries to connect to all nodes directly for that feature.</li>
</ul>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/docs/usage/multi_dc_distributed/" title="Multi DCs with Multi Reapers"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/docs/api/" title="Rest API" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1749635473"></script>
    <script src="/js/perfect-scrollbar.min.js?1749635473"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1749635473"></script>
    <script src="/js/jquery.sticky.js?1749635473"></script>
    <script src="/js/featherlight.min.js?1749635473"></script>
    <script src="/js/highlight.pack.js?1749635473"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1749635473"></script>
    <script src="/js/learn.js?1749635473"></script>
    <script src="/js/hugo-learn.js?1749635473"></script>
    
        
            <script src="https://unpkg.com/mermaid@8.8.0/dist/mermaid.min.js"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

